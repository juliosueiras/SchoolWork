<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>String Processing</title>
</head>

<body onload='window.focus()'>
<h2>String Processing</h2>
<h3>Topics Covered:</h3>
<ul class="outer">
<li><a href="#string">The String Class</a></li>
<li><a href="#strproc">String Processing</a></li>
<li><a href="#ex">Other Exercises</a></li>
</ul>
<h3>Things To Do Before This Section</h3>
<ul class="outer">
<li>Read Chapters 9.1 to 9.4 (you can skip 9.2.9 if you have never learned or studied arrays before).</li>
<li>Try questions 9.1 to 9.6, 9.8, and 9.10 to 9.11 on pages 331 to 333.</li>
<li>Try programming exercises 9.1 to 9.4 and 9.6 to 9.8.</li>
</ul>
<h3>Things To Do After This Section</h3>
<ul class="outer">
<li>Complete and/or submit any exercises assigned for homework.</li>
</ul>
<h3>The String Class</h3>
<p>After reading Chapters 9.1 to 9.3, you should be familiar with the following terms and concepts (note: we'll cover section 9.2.3 in the next session):</p>
<ul class="outer">
<li>Terms:
<ul class="inner">
<li>What is a string (definition)? What is a string literal?</li>
<li>What does it mean when we say that a String is an object?</li>
<li>What does it mean when we say that "strings are immutable"?</li>
<li>What is an interned string?</li>
<li>String indexes, string index range, StringIndexOutOfBoundsException</li>
</ul>
</li>
<li>Concepts:
<ul class="inner">
<li>Counting characters in a string, retrieving a character in a string</li>
<li>How characters are stored in a string object</li>
<li>How string objects are created</li>
<li>How string object are stored in memory</li>
<li>String Methods - substring(), trim(), replace(), indexOf(), matches(), etc.</li>
<li>The Character wrapper class and its methods (e.g. isDigit(), isLetter(), toLowerCase(), isUpperCase(), etc)</li>
</ul>
</li>
</ul>
<p>See listings 9.1 and 9.2 for some practical examples.</p>
<p>The chapter makes some reference to <b>arrays</b>, which we will learn about later in the course. Simply put, arrays are variables that can contain a list of values, and each value can be accessed by an index. This is very similar to how Strings are stored (each character in the string is accessed by an index). You don't need to know much more at this point, so feel free to skip over anything in this chapter that refers to arrays.</p>
<p>One of the important concepts we often forget or ignore when working with strings is that strings are objects. When you create a string using a statement such as:</p>
<pre>String s = "Java";</pre>
<p>You are creating an object variable that points to a String object in memory (see page 303, Fig 9.1 for example). This would be just as if you had typed the statement:</p>
<pre>String s = new String("Java");</pre>
<p>The people who developed Java figured that since we work with Strings all the time, they'd make it easier to declare Strings as if they were primitive data, so you don't have to use the String() constructor all the time.</p>
<p>Another important concept is that <b>Strings are immutable</b>: once created, they can't be changed. Figure 9.1 on page 303 also shows the effects of the following:</p>
<pre>String s = "Java";
s = "HTML";</pre>
<p>In this example, the String object referenced by the variable s is not being altered. In the first statement, a new String object with the value "Java" is created and its address stored in the variable s. Then when the second statement executes, a new String object with the value "HTML" is constructed and it's address stored in the variable s. This wipes out the previous contents, which was the address to the first String object ("Java").</p>
<p>Page 303 also talks about <b>interned</b> strings. Since strings are used so often in programming, Java creates a pool of strings that are created in a program. When you create a string object, Java checks to see if there is a similar string object in the pool. If there is, Java will use that string object instead of creating a new one. See the code on page 303 below Figure 9.1.</p>
<p>When the first statement executes, which assigns the string literal "Welcome to Java." to the String variable <span style="font-family: Courier New;" face="Courier New"><b>s</b></span>, the String class adds the string "Welcome to Java" to the pool of strings. When the second statement executes, which constructs a new String object with the value "Welcome to Java" and assigns that object reference to the variable <span style="font-family: Courier New;" face="Courier New"><b>s2</b></span>, a brand new object is created in memory, so the <span style="font-family: Courier New;" face="Courier New">s2</span> variable gets its own object reference. The third statement creates a String variable using the same string literal, "Welcome to Java". In this case, Java searches the pool of Strings to see if one matches. It finds the one that is being references by <span style="font-family: Courier New;" face="Courier New">s1</span>, so it uses that one. This causes <span style="font-family: Courier New;" face="Courier New">s3</span> to point to the same String object as <span style="font-family: Courier New;" face="Courier New">s1</span>.</p>
<p>This is why the two println() statements product the output you see in the middle of the page. The <span style="font-family: Courier New;" face="Courier New">s1</span> and <span style="font-family: Courier New;" face="Courier New">s2</span> variables are pointing to, or referencing, different objects, so they are not equal. The <span style="font-family: Courier New;" face="Courier New">s1</span> and <span style="font-family: Courier New;" face="Courier New">s3</span> variables are referencing the same object, so they are equal.</p>
<!--invokes the intern()
method on the <font face="Courier New">s1</font> variable.
In this case, Java checks the pool to see if there's
already a string with the same value as the s1 string
object.  It finds the one that was created in the first
statement, and assigns that object to the
<font face="Courier New"><b>s2</b></font> variable.
The last statement that assigns a string to
<font face="Courier New"><b>s3</b></font>, also uses the
pool of strings to find a string object with the same
value, so <font face="Courier New">s3</font> ends up also
pointing to the same object used by
<font face="Courier New">s</font> and
<font face="Courier New">s2</font>.</p>-->
<p>s1 and s3 are called <b>interned strings</b>.</p>
<h3>String Processing</h3>
<p>Have a look at the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html">documentation for the String class</a> and the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html">documentation for the Character class</a>.</p>
<p>Read through the rest of Chapter 9.2 and 9.3 and try the different examples. We'll also demonstrate many of the methods in these pages during class. In particular:</p>
<ul class="outer">
<li>String class methods:
<ul class="inner">
<li>length()</li>
<li>charAt()</li>
<li>substring()</li>
<li>toLowerCase(), toUpperCase()</li>
<li>trim()</li>
<li>replace(), replaceAll()</li>
<li>matches()</li>
<li>indexOf(), lastIndexOf()</li>
</ul>
</li>
<li>Character class methods:
<ul class="inner">
<li>compareTo()</li>
<li>isDigit(), isLetter()</li>
<li>isLetterOrDigit(), isSpaceChar()<sup>*</sup>, isWhiteSpace()<sup>*</sup></li>
<li>isLowerCase(), isUpperCase()</li>
<li>toLowerCase(), toUpperCase()</li>
</ul>
</li>
</ul>
<p><sup>*</sup>See your Java documentation for information about these methods.</p>
<h3>Other Exercises</h3>
<p><b>1. </b> Write a program that asks the user for a sentence. Display the sentence backwards, letter by letter. Example:</p>
<pre>Enter a sentence:
Mary had a little lamb.
Your sentence backwards:
.bmal elttil a dah yraM</pre>
<p><b>2. </b> Write a program that asks the user for a sentence. Then ask the user which character they'd like to replace, and which character to replace the first character with. Create a new string with all instances of the first character replaced with the second character, and display the new sentence on the screen. Example:</p>
<pre>Enter a sentence:
Mary had a little lamb.
Enter a character to replace:  b
Enter a character to replace it with: p
Your new sentence:
Mary had a little lamp.</pre>
<p>To retrieve a char value from the console or a dialog box, you can retrieve a string and then just grab the first character.</p>
<p><b>3. </b> Write a method called getTotalSeconds() that accepts a time string in the format hh:mm:ss. This method should extract the number of hours, minutes, and seconds from the string and then use these values to calculate the total number of seconds. The result should be returned. Write a main() method that creates two time strings and then uses the getTotalSeconds() method to figure out the difference in seconds between the two times. For example:</p>
<pre>Enter a time in the form hh:mm:ss
2:13:55
Enter another time in the form hh:mm:ss
14:03:12

There is a difference of 42,557 seconds between 2:13:55 and 14:03:12</pre>
<p><b>4. </b> Write a method called reverse() that accepts a sentence as a string, and then returns that string with the words backwards. Write a main() method that gets the string from the user and then displays the string backwards. For example:</p>
<pre>Enter a sentence!
Mary had a little lamb.

Your sentence backwards:
lamb. little a had Mary</pre>
<p><b>5. (advanced!)</b> Validate a Social Insurance Number.</p>
<p>Canada's social insurance numbers (SIN) are validated using a special checksum algorithm that goes something like this:</p>
<ol>
<li>Separate the first 8 digits from the 9th digit. The 9th digit is a check-digit. Take the remaining 8 digits:</li>
<li>Multiply the first digit by 1, the second digit by 2, the third digit by 1, the fourth digit by 2, etc. In other words, Each odd-positioned digit (first, third, fifth, and seventh) are multiplied by 1 and each even-positioned digit (second, fourth, sixth, eighth) are multiplied by 2.</li>
<li>If any product above results in a 2-digit number, add those digits together to get a single digit.</li>
<li>Take the 8 single-digit numbers from the result in step 2 and 3 and add them all together.</li>
<li>Take the value in step 4 and find the next highest number that is evenly divisible by 10. Subtract your step 4 solution from that number.</li>
<li>If the solution to step 5 is the 9th check-digit, then your SIN is valid. If it isn't the same as your check-digit, then it wasn't a valid SIN.</li>
</ol>
<p>Example using a ficticious SIN 046 454 286:</p>
<p>Step 1: Separate the first 8 digits from the check digit:</p>
<p>Value to check: 04645428 Check-Digit: 6</p>
<p>Step 2 &amp; 3: Multiply the odd-positioned digits by 1 and the even-positioned digits by 2. For any result that is more than one digit, add the solution's digits together to get a single digit.</p>
<pre>0 * 1 = 0
4 * 2 = 8
6 * 1 = 6
4 * 2 = 8
5 * 1 = 5
4 * 2 = 8
2 * 1 = 2
8 * 2 = 16, 1 + 6 = 7</pre>
<p>Step 4: Add the digits in Step 2/3:</p>
<p>0 + 8 + 6 + 8 + 5 + 8 + 2 + 7 = 44</p>
<p>Step 5: Find the next highest number that is evenly divisible by 10 and subtract:</p>
<p>Next highest number from 44 is 50. 50 - 44 = 6</p>
<p>Step 6: The solution to step 5 is 6, which equals our check-digit of 6, so this is a valid SIN.</p>
<p>Write a program that prompts the user for a SIN and then displays whether or not the SIN is valid or invalid.</p>
<p>Check your program with these SINs:</p>
<p>410345678<br /> 123456030<br /> 193456787<br /> 123456789</p>
</body>
<p>All content © Wendi Jollymore, Sheridan College, 2011</p>
<p>May not be published or modified without permission.</p>
</html>